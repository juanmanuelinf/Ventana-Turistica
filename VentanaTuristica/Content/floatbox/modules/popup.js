/* Floatbox v4.27 */
(function(a,c,d,b){fb.extend(fb.proto,{IB:function(l){var k=this,m=fb.ID.length,e;while((e=k.IE.pop())){var j=m,h=c;while(j--){if(e.AF===fb.ID[j].AF){h=a;break}}if(!h){g(e,e.AF,e.KS,/\bfbIndex\b/.test(e.AF[fb.PV]))}}function g(o,p,n,r){fb.ID.push(o);o.IA=a;n.id=n.id||"fbPop"+k.HK();var q=n.style;q[fb.PS]=k.LN+"px";q[fb.QK]="";o.JV=function(){var w=0,A=0,u=n.width,F=n.height,B=k[fb.TH];if(B&&u&&F&&n[fb.PV]==="fbIndex"){var I=k.P(B-u,0),G=k.P(B-F,0),z;if(I||G){z=u/F;if(G*z<=I){I=k.Q(G*z)}else{G=k.Q(I/z)}}n.width=u+I;n.height=F+G}if(o.IF==="pip"){if(!k[fb.QY]){return}k[fb.QZ][fb.PG](n);n[fb.PV]="fb fbPoppip";if(k.BC[k[fb.SX]]){var t=k["fb"+k[fb.SX]+fb.UM];w=(t[fb.TY]-n[fb.TY])/2+t[fb.TW]-k[fb.QZ][fb.TW]-k[fb.TB]}else{if(!k.indexLinksLeft){w=k[fb.QZ][fb.TY]-n[fb.TY]-2*k[fb.TB]}}if(!k.indexLinksTop){A=k[fb.QZ][fb.TV]-n[fb.TV]-2*k[fb.TB]}}else{var E=n[fb.UN];while(E&&k.J(E)!=="html"&&!/fixed|absolute|relative/i.test(k[fb.SN](E,fb.UP))){E=E[fb.UN]}q[fb.QK]=fb.TS;var v=k[fb.SK](p),x=k[fb.SK](E),C=k[fb.SM](),D=C.left+k[fb.SQ](),H=C.top+k[fb.SP](),y;q[fb.QK]="";switch(o.IF){case"up":w=(v.width-n[fb.TY])/2;A=2-n[fb.TV];break;case"down":w=(v.width-n[fb.TY])/2;A=v.height;break;case"left":w=-n[fb.TY];A=(v.height-n[fb.TV])/2;break;case"right":w=v.width;A=(v.height-n[fb.TV])/2;break}w+=v.left;A+=v.top;y=w+n[fb.TY]-D;if(y>0){w-=y+1}y=w-C.left;if(y<0){w-=y-1}y=A+n[fb.TV]-H;if(y>0){A-=y+1}y=A-C.top;if(y<0){A-=y-1}w-=x.left;A-=x.top}q.left=w+"px";q.top=A+"px"};p.EG=function(){if(!o.IC){if(o.IF==="pip"){p[fb.PG](n)}q.left="0";q.top="-9999px"}};function s(){clearTimeout(o.GW);if((!q.top||q.top==="-9999px")&&!k.CN){o.JV()}}function i(){o.GW=k.I(function(){p.EG()},50)}k[fb.PC](p,fb.TL,s,d,o.M);k[fb.PC](p,fb.TK,i,d,o.M);fb[fb.PC](p,"click",function(t){p.EG();if(r){if(this.id!=="fbCurrentIndex"){k.JS(+this.rev)}return fb[fb.VP](t)}},d,o.M);k[fb.PC](p,fb.VU,function(t){if(!o.KX){k[fb.UW](p,fb.TL,s);k[fb.UW](p,fb.TK,i);k[fb.UW](p,"click",p.EG);o.KX=a}if(!(n[fb.TX]>=0)){f(t);o.JV();return k[fb.VP](t)}},d,o.M)}function f(p){if(p.target.nodeName==="IFRAME"){return}var o=fb.ID.length,n;while(o--){n=fb.ID[o];if(!k[fb.TP](n.AF,p.target)){n.AF.EG()}}}k[fb.PC](l,fb.VU,f)},popupLoaded:a})})(true,false,null);